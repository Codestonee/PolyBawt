# =============================================================================
# LIVE TRADING CONFIGURATION
# =============================================================================
# 
# WARNING: LIVE TRADING ENABLED
# Strategies active: Politics, Economics, OBI, VPIN
# 
# Current Status: ACTIVE
# =============================================================================

environment: live  # LIVE MODE
dry_run: false     # LIVE ORDERS ENABLED

# -----------------------------------------------------------------------------
# API Endpoints
# -----------------------------------------------------------------------------
api:
  clob_base_url: "https://clob.polymarket.com"
  gamma_base_url: "https://gamma-api.polymarket.com"
  ws_url: "wss://ws-subscriptions-clob.polymarket.com/ws/market"
  polygon_chain_id: 137

# -----------------------------------------------------------------------------
# Trading Parameters
# -----------------------------------------------------------------------------
trading:
  assets: ["BTC", "ETH"]  # Enabled for crypto strategy if needed
  bankroll: 100.0  # Assumed bankroll for % calcs if API fails
  max_trade_usd: 5.0          # Grok spec: $5 max per trade
  max_total_exposure_usd: 20.0  # Grok spec: $20 max exposure
  
  min_edge_threshold: 0.02  # 2% (Grok recommendation)
  kelly_fraction: 0.25      # Ensemble allocation
  max_position_pct: 0.05    # 5% of $100 = $5 (Grok cap)
  max_asset_exposure_pct: 0.20 # $20 cap on $100
  cutoff_seconds: 120       # 2 mins
  min_seconds_after_open: 120

  favorite_bet_enabled: false
  favorite_bet_size: 0

  arbitrage_enabled: true
  arbitrage_min_profit_pct: 0.005 # 0.5%
  arbitrage_max_size: 5.0

  extreme_prob_enabled: false  # Keep disabled for now
  extreme_prob_threshold: 0.05
  extreme_prob_kelly_boost: 1.0
  extreme_prob_min_edge: 0.05

# -----------------------------------------------------------------------------
# Risk Management
# -----------------------------------------------------------------------------
risk:
  daily_loss_soft_limit_pct: 0.03  # 3% warn
  daily_loss_hard_limit_pct: 0.05  # 5% stop
  max_drawdown_pct: 0.10           # 10% max drawdown
  volatility_pause_threshold: 2.0
  correlation_reduction_threshold: 0.8

# -----------------------------------------------------------------------------
# Execution Parameters
# -----------------------------------------------------------------------------
execution:
  rate_limit_buffer_pct: 0.20
  ws_reconnect_initial_ms: 100
  ws_reconnect_max_ms: 5000
  ws_reconnect_multiplier: 2.0
  ws_reconnect_jitter: 0.2
  order_timeout_ms: 5000
  max_retries: 2

# -----------------------------------------------------------------------------
# Market Making - DISABLED
# -----------------------------------------------------------------------------
market_making:
  enabled: false
  spread_bps: 50.0
  quote_size_usd: 0
  max_inventory_usd: 0
  skew_bps_per_inventory: 1.0
  min_profit_margin: 0.005

# -----------------------------------------------------------------------------
# Event Trading - ENABLED (Politics, Economics)
# -----------------------------------------------------------------------------
event_trading:
  enabled: true
  categories: ["politics", "economics"]
  min_edge_politics: 0.05
  min_edge_sports: 0.06
  min_edge_economics: 0.04
  min_edge_pop_culture: 0.07
  max_position_per_market: 50.0
  max_category_exposure: 200.0
  rebalance_enabled: true
  rebalance_threshold_pct: 0.10
  refresh_polls: 3600
  refresh_betting_lines: 900
  refresh_fed_futures: 900
  refresh_sentiment: 1800
  brier_tracking_enabled: true
  calibration_db_path: "data/calibration.db"

# -----------------------------------------------------------------------------
# VPIN - ENABLED
# -----------------------------------------------------------------------------
vpin:
  enabled: true
  bucket_size_usd: 1000.0
  n_buckets: 50
  halt_threshold: 0.6
  reduce_threshold: 0.4

# -----------------------------------------------------------------------------
# OBI Signal - ENABLED
# -----------------------------------------------------------------------------
obi:
  enabled: true
  levels: 5
  strong_threshold: 0.4
  weak_threshold: 0.2
  weighted: true

# -----------------------------------------------------------------------------
# BTC 15m Strategy - DISABLED (Integrated but off)
# -----------------------------------------------------------------------------
btc_15m:
  enabled: true
  min_edge: 0.02
  max_position_size: 20.0

# -----------------------------------------------------------------------------
# Model Parameters
# -----------------------------------------------------------------------------
models:
  jump_intensity_per_day: 2.0
  jump_size_std: 0.02
  default_volatility:
    BTC: 0.60
    ETH: 0.70
    SOL: 0.85
    XRP: 0.90

# -----------------------------------------------------------------------------
# Observability
# -----------------------------------------------------------------------------
observability:
  log_level: INFO
  log_format: clean
  metrics_port: 9093
  telegram_enabled: false

# -----------------------------------------------------------------------------
# LIVE TRADING ENABLED FLAG
# -----------------------------------------------------------------------------
trading_enabled: true  # LIVE TRADING ACTIVE
